#include <iostream>
#include <string>
#include <cassert>
 
int main() {
    // вводим строку с номером карты
    std::string card_number;
    std::cout << "номер карты (4561261212345467) = ";
    std::getline(std::cin, card_number);
    if (card_number.empty()) {
        card_number = "4561261212345467";
    }
 
    unsigned cnt = 1, n = 0, sum = 0;
    // для каждой цифры из строки card_number в обратном порядке
    for (std::string::reverse_iterator it = card_number.rbegin();
        it != card_number.rend();
        ++it, ++cnt) {
        // получаем из символа цифры непосредственно число от 0 до 9
        assert(*it >= '0' && *it <= '9');
        n = *it - '0';
        // если порядковый номер текущей цифры четный, то умножаем ее
        // на 2 по модулу 9 иначе оставляем без изменений и суммируем
        // с предыдущими
        sum += (cnt%2) ? n : ((n*2) % 9);
    }
 
    // выводим результат
    std::cout
        << "контрольная сумма (" << sum
        << ") для карты " << card_number
        << (sum%10 ? " НЕ " : " ") << "верна"
        << std::endl;
}
